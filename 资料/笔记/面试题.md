面试题

v2的响应式原理

Object.defineProperty(obj,key,{

​	set function(){

​		监听给key设置的值

​	 }

​	get: function(){

​		监听到获取key的值

​		return value

​	 }

})

缺点

只是为了监听普通的值,对象监听比较鸡肋,性能不佳

新增属性,删除属性,无法监听





v3

proxy代理对象

new proxy(obj,handle)

有什么操作对代理进行执行,对整个对象进行监听.

在handle中添加捕获器

set:function(tar,key,newValue){

​	target[key] = newValue

}

get:function(tar,key){

​	return target[key]

}

deleteProperty: function(target,kay){

​	delete obj.name

}